<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Notas 3</title>
    <style>
        /* Estilos limpios de notas2 */
        :root {
            --bg-color: burlywood;
        }

        body {
            margin: 0;
            padding: 0;
            background-image: radial-gradient(#f0e7d8 2px, transparent 2px),
                linear-gradient(#f8ecd8 2px, transparent 2px);
            background-size: 20px 20px;
            background-position: 0 0, 10px 10px;
            display: flex;
            flex-direction: column;
            font-family: sans-serif;
        }

        header {
            display: none;
        }

        p {
            margin-top: 0.3em;
            margin-bottom: 0.3em;
        }

        a {
            text-decoration: none;
        }

        article {
            max-width: 800px;
            padding: 15px 35px;
            background-color: beige;
            margin: 20px 10px;
        }

        .data {
            display: flex;
            justify-content: end;
            gap: 20px;
            margin-top: 50px;
            background-color: var(--bg-color);
            padding: 5px;
        }

        .trans {
            opacity: 0.4;
        }

        /* Estilos mínimos necesarios para la funcionalidad */
        #filters,
        #tag-filters {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            flex-wrap: wrap;
            margin: 10px;
        }

        button {
            padding: 6px 12px;
            border: 1px solid #8b7355;
            background-color: #8b7355;
            color: white;
            cursor: pointer;
            border-radius: 4px;
        }

        button[aria-pressed="true"] {
            background-color: #fff6e6;
            color: #8b7355;
        }

        button.active {
            background-color: #8b7355;
            color: white;
        }

        .note .content {
            max-height: none;
        }

        .note.large .content {
            max-height: 100px;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .note.large.expanded .content {
            max-height: none;
        }

        #loading {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(222, 184, 135, 0.9);
            padding: 10px;
            border-radius: 5px;
            z-index: 1000;
        }

        #articles-container {
            display: block !important;
            /* Override inline style */
        }

        .note {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .note.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>

<body>
    <header>
        <h1>Notas 3</h1>
    </header>

    <div id="loading">Cargando notas...</div>

    <div id="filters">
        <!-- Todos activados por defecto -->
        <button data-filter="all" aria-pressed="true">Todas</button>
        <button data-filter="small" aria-pressed="true">Pequeñas</button>
        <button data-filter="medium" aria-pressed="true">Medianas</button>
        <button data-filter="large" aria-pressed="true">Largas</button>
    </div>

    <!-- Contenedor de filtros de etiquetas -->
    <div id="tag-filters"></div>

    <div id="articles-container" style="display: none;"></div>

    <script>
        // Encapsular generación de botones de etiqueta
        function generateTagButtons(tagSet) {
            const tagFiltersContainer = document.getElementById('tag-filters');
            tagFiltersContainer.innerHTML = '';
            tagSet.forEach(tag => {
                const button = document.createElement('button');
                button.textContent = tag;
                button.setAttribute('data-tag', tag);
                button.setAttribute('aria-pressed', 'false');
                button.onclick = () => applyTagFilter(tag, button);
                tagFiltersContainer.appendChild(button);
            });
        }

        // Permitir seleccionar múltiples etiquetas
        function applyTagFilter(tag, btn) {
            const isPressed = btn.getAttribute('aria-pressed') === 'true';
            btn.setAttribute('aria-pressed', isPressed ? 'false' : 'true');
            const activeTags = Array.from(document.querySelectorAll('#tag-filters button[aria-pressed="true"]'))
                .map(b => b.getAttribute('data-tag'));

            document.querySelectorAll('.note').forEach(article => {
                const tags = Array.from(article.querySelectorAll('.tags span')).map(t => t.textContent.trim());
                article.style.display = activeTags.some(t => tags.includes(t)) || activeTags.length === 0
                    ? 'block'
                    : 'none';
            });
        }

        async function loadArticles() {
            let articles = ['notas3/2024-08-23-la-sensacion-de-pert.html', 'notas3/2024-08-23-es-como-con-la-pasta.html', 'notas3/2024-11-11-el-sepulturero-sin-n.html', 'notas3/2024-11-17-lo-gracioso-de-poner.html', 'notas3/2024-10-08-acabo-de-sonar.html', 'notas3/2024-08-23-sup0ongo-que-es-eso.html', 'notas3/2024-11-02-es-que-literal.html', 'notas3/2024-11-20-por-eso-es-por-lo-qu.html', 'notas3/2024-09-15-quiero-dejar-de-save.html', 'notas3/2024-11-02-es-que-lo-de-valenci.html', 'notas3/2024-08-17-bailar-es-que-se-sie.html', 'notas3/2024-11-29-es-que-uf-lo-recuerd.html', 'notas3/2024-12-18-y-si-wl-trabajo-es-e.html', 'notas3/2024-09-14-estabamos-en-un-mund.html', 'notas3/2024-08-23-o-sea-supongo-que-si.html', 'notas3/2024-11-29-vivimos-en-la-era-de.html', 'notas3/2024-10-19-al-final-no-se.html', 'notas3/2024-09-15-igual-el-new-age-est.html', 'notas3/2024-09-22-supongo-que-al-final.html', 'notas3/2024-10-04-he-sonado-que-2.html', 'notas3/2024-11-09-es-que-en-cuerto-mod.html', 'notas3/2024-10-11-ACAB-tag-on-a-bus-st.html', 'notas3/2024-08-16-era-una-torre-muy-al.html', 'notas3/2024-09-21-santa-y-satan-son-an.html', 'notas3/2024-10-11-pagina.html', 'notas3/2024-08-09-he-sonado-que-3.html', 'notas3/2024-12-03-es-quee-no-me-entero.html', 'notas3/2024-11-10-de-la-misma-manera-q.html', 'notas3/2024-11-06-me-pregunto-si-me-si.html', 'notas3/2024-09-27-en-este-mundo-no-hab.html', 'notas3/2024-09-21-igual-me-hubiera-gus.html', 'notas3/2024-08-31-intento-de-hablar-de.html', 'notas3/2024-08-23-supongo-que-lo-que-t.html', 'notas3/2024-10-24-no-se.html', 'notas3/2024-10-24-es-que-te-juro.html', 'notas3/2024-11-10-igual-el-big-bang-si.html', 'notas3/2024-11-23-ess-que-ser-genz-es-.html', 'notas3/2024-08-17-bua-molaria-la-histo.html', 'notas3/2024-09-15-las-cosas-que-me-apu.html', 'notas3/2024-10-02-y-es-curioso-porque.html', 'notas3/2024-10-19-a-mi-me-pasa-que-sen.html', 'notas3/2024-09-15-para-eso-vine.html', 'notas3/2024-11-17-el-zodiaco-mola.html', 'notas3/2024-10-30-y-es-que-creo-que-se.html', 'notas3/2024-11-17-mis-padres.html', 'notas3/2024-11-29-el-capitalismo-es-un.html', 'notas3/2024-11-12-es-como-que.html', 'notas3/2024-09-15-igual-si-que-stoy-ll.html', 'notas3/2024-08-23-supongo-que-por-eso-.html', 'notas3/2024-10-19-es-que-esto-es-la-vi.html', 'notas3/2024-08-23-y-sabia-que-tenia-qu.html', 'notas3/2024-08-23-mola-un-poco-pensar-.html', 'notas3/2024-11-02-le-pregunte-a-max-si.html', 'notas3/2025-01-03-y-vender-el-proyecto.html', 'notas3/2024-11-17-cuando-aprieto-las-m.html', 'notas3/2025-01-03-yo-recuerdo-que-me-p.html', 'notas3/2024-11-02-ees-que-ojhala-t4e-d.html', 'notas3/2024-08-23-que-fuerte-que-inclu.html', 'notas3/2024-08-23-hm-como-que-antes-es.html', 'notas3/2024-08-04-ogual-es-dso.html', 'notas3/2025-01-03-y-es-que-esto-me-can.html', 'notas3/2024-08-17-una-envidia-perezosa.html', 'notas3/2024-10-31-es-que.html', 'notas3/2024-12-06-es-que-little-witch-.html', 'notas3/2024-08-23-y-es-como-1.html', 'notas3/2024-08-23-como-lo-profano-de-j.html', 'notas3/2024-10-31-porque-no-hay-nada-m.html', 'notas3/2024-08-18-hacer-una-copia-de-n.html', 'notas3/2024-08-17-pff-como-cuando-en-c.html', 'notas3/2024-08-23-descansara-samantha-.html', 'notas3/2024-09-02-la-cadena-de-las-lla.html', 'notas3/2024-08-28-hacer-un-minesweeper.html', 'notas3/2024-11-03-supongo-que-me-cuest.html', 'notas3/2024-12-05-lo-peligroso-del-ret.html', 'notas3/2024-10-31-entonces-yo-cuando-h.html', 'notas3/2024-12-23-y-es-que-al-final-es.html', 'notas3/2024-10-02-pf-mlaria-much-escri.html', 'notas3/2024-08-16-me-acuerdo-del-cajon.html', 'notas3/2024-12-02-psicologa-1.html', 'notas3/2024-08-22-mira-un-buen-plan-de.html', 'notas3/2024-11-23-es-que-tambien-tenem.html', 'notas3/2024-11-28-en-cierto-modo-las-e.html', 'notas3/2024-09-21-supongo-que.html', 'notas3/2024-11-02-y-notas-2-como-notas.html', 'notas3/2024-09-08-creo-que-tambien-la-.html', 'notas3/2024-11-02-y-si-el-nombre-de-em.html', 'notas3/2025-01-03-doctora.html', 'notas3/2024-09-25-y-entonces-sonarian-.html', 'notas3/2024-12-23-luego-no-me-pregunte.html', 'notas3/2024-08-22-creo-que-lo-que-mas-.html', 'notas3/2025-01-03-creo-que-algo-que-me.html', 'notas3/2024-09-13-hoy-he-sonado-muchas.html', 'notas3/2024-09-08-Nueva-nota.html', 'notas3/2024-09-08-no-tener-descendenci.html', 'notas3/2024-08-23-es-que-es-como.html', 'notas3/2024-09-02-si-eriting-app-es-pr.html', 'notas3/2024-12-16-hacer-un-viaje-de-LS.html', 'notas3/2024-11-29-lo-magico-de-little-.html', 'notas3/2024-08-01-wifi-planta-de-arrib.html', 'notas3/2024-08-29-claro-porque.html', 'notas3/2025-01-01-lo-que-hagas-en-tu-p.html', 'notas3/2024-08-23-supongo-que-si-tiene.html', 'notas3/2024-08-23-es-quiza-eso-lo-que-.html', 'notas3/2024-10-30-al-final-la-justicia.html', 'notas3/2024-09-16-monetizare.html', 'notas3/2024-08-07-10-historias-sobre-p.html', 'notas3/2024-09-23-he-sonado.html', 'notas3/2024-08-23-si-todo-se-piede-chi.html', 'notas3/2024-11-05-hoy-sone-que.html', 'notas3/2024-12-07-ademas-que-akko-tien.html', 'notas3/2024-11-30-siento-que-los-color.html', 'notas3/2024-09-16-yo-no-se-si-cogiste-.html', 'notas3/2024-12-15-longuay-de-ines-hern.html', 'notas3/2024-12-20-3701A.html', 'notas3/2024-08-17-siempre-te-veo-en-la.html', 'notas3/2025-01-02-sone-sue-volvia-a-ma.html', 'notas3/2024-08-11-al-introducir-tu-ded.html', 'notas3/2024-08-23-creo-que-lo-divertid.html', 'notas3/2024-11-03-es-que-cuadno-digo-q.html', 'notas3/2024-08-23-pero-supongo-que-el-.html', 'notas3/2024-12-18-es-que-por-ejemplo-a.html', 'notas3/2024-10-09-sueno.html', 'notas3/2024-11-10-me-preguntoq-ue-habr.html', 'notas3/2024-09-04-moalria-que-la-writi.html', 'notas3/2024-11-28-he-sonado-que-1.html', 'notas3/2024-11-29-los-seguidos-y-los-s.html', 'notas3/2024-11-26-direccion-de-arte.html', 'notas3/2024-08-22-un-paper-en-blanco.html', 'notas3/2024-11-12-el-capitalismo-nos-e.html', 'notas3/2024-09-15-asi-es.html', 'notas3/2024-12-04-creo-que-echo-de-men.html', 'notas3/2024-11-12-es-que-igual-las-tro.html', 'notas3/2024-09-28-he-sonado-que.html', 'notas3/2025-01-03-cuando-la-psiquiatra.html', 'notas3/2024-12-03-y-lo-llevaba-intenta.html', 'notas3/2024-09-08-una-vineta-fe-comic-.html', 'notas3/2024-11-20-quiero-atreverme.html', 'notas3/2024-09-04--article-class-escri.html', 'notas3/2024-08-23-cuanto-mas-pienso-ej.html', 'notas3/2024-11-29-uno-de-los-momentos-.html', 'notas3/2024-11-12-claro-que-quiero-cap.html', 'notas3/2024-09-24-lo-que-mola-tambien-.html', 'notas3/2024-08-23-si-como.html', 'notas3/2024-08-17-igual-es-esobli-que-.html', 'notas3/2024-08-23-supongo-que-lo-que-q.html', 'notas3/2024-12-01-y-al-quererme-como-y.html', 'notas3/2024-11-24-y-si-la-magia.html', 'notas3/2024-09-16-bua-ver-el-documenta.html', 'notas3/2024-08-23-como-un-nuevo-femeni.html', 'notas3/2024-08-23-sentir-como-todos-lo.html', 'notas3/2024-09-25-mola-que-hanekawa-en.html', 'notas3/2024-12-27-Reflexion--Salud-men.html', 'notas3/2025-01-03-y-ver-si-las-puedo-m.html', 'notas3/2025-01-03-porque-vivimos-en-la.html', 'notas3/2024-11-09-perdon-por-haberme-a.html', 'notas3/2024-08-23-no-me-extranaria-que.html', 'notas3/2024-12-28-ir-a-hacienda-y-deci.html', 'notas3/2024-09-12-bua-la-tienda-de-ka-.html', 'notas3/2024-08-17-unvideijuego-que-es-.html', 'notas3/2025-01-03-es-que-al-final-como.html', 'notas3/2024-08-23-y-como-esta-sensacio.html', 'notas3/2024-12-29-oye-gracias-por-quer.html', 'notas3/2024-08-23-que-fuerte-no-.html', 'notas3/2025-01-03-y-sobre-eso-tiene-mu.html', 'notas3/2025-01-01-un-objeto-magico-sol.html', 'notas3/2024-11-28-llevo-un-tiempo-sint.html', 'notas3/2024-11-17-ser-tan-divertida-es.html', 'notas3/2024-08-23-mola-como-que-ya-no-.html', 'notas3/2024-08-23-ademas-en-si-todo-en.html', 'notas3/2024-08-17-me-acuerdo-de-cuandi.html', 'notas3/2024-08-23-es-que-es-algo-asi.html', 'notas3/2025-01-03-es-que-soy-muy-listo.html', 'notas3/2025-01-03-y-a-veces-escribo-un.html', 'notas3/2024-09-21-la-cosa-es-hacer-exp.html', 'notas3/2024-09-21-que-adobe-se-pueda-c.html', 'notas3/2024-11-10-porque-el-poder.html', 'notas3/2025-01-03-aa.html', 'notas3/2024-12-07-supongo-que-el-peque.html', 'notas3/2024-11-14-era-un-dia-normal-un.html', 'notas3/2024-11-17-quuiero-volver-a-sen.html', 'notas3/2024-09-28-existe-la-arqueosoci.html', 'notas3/2024-12-04-el-pais-donde-munca-.html', 'notas3/2024-11-10-es-que-literal-1.html', 'notas3/2024-10-31-es-que-mi-situacion-.html', 'notas3/2024-09-22-igual-con-la-ia.html', 'notas3/2024-08-17-me-gusta-hacer-3-pen.html', 'notas3/2024-11-02-el-otro-dia-estuve-p.html', 'notas3/2024-09-15-menos-mal-que-soy-es.html', 'notas3/2024-09-08-tenemos-muchisima-qu.html', 'notas3/2024-08-18-supongo-que-el-motiv.html', 'notas3/2024-08-23-siento-que-algo-muy-.html', 'notas3/2024-11-15-leia-las-manos.html', 'notas3/2024-10-02-siento-que-nuestra-g.html', 'notas3/2024-12-10--los-usuarios-que-re.html', 'notas3/2024-11-18-y-es-como.html', 'notas3/2024-12-10-una-investigacion-so.html', 'notas3/2024-12-05-como-voy-a-creer-en-.html', 'notas3/2024-11-23-y-si-los-genz-estamo.html', 'notas3/2024-08-02-he-sonado-que-4.html', 'notas3/2024-11-10-es-que-la-democracia.html', 'notas3/2024-11-03-aterrador.html', 'notas3/2024-08-23-y-la-cosa-de.html', 'notas3/2024-08-23-mola-pprque-siento-q.html', 'notas3/attachment-s', 'notas3/2025-01-03-ahora-se-que-va-a-su.html', 'notas3/2025-01-03-peticion-popular.html', 'notas3/2024-11-05-y-el-pensaba-que-hab.html', 'notas3/2024-11-03-es-que-al-final.html', 'notas3/2024-09-08-una-inyerfaz.html', 'notas3/2024-11-02-y-es-que-no.html', 'notas3/2024-12-18-psicologa.html', 'notas3/2024-10-19-que-cada-dia-pienso-.html', 'notas3/2024-12-28-un-videojuego-con-6-.html', 'notas3/2024-11-29-las-lunas-azules.html', 'notas3/2024-11-02-es-que-igual-hace-40.html', 'notas3/2025-01-03-tambien-creo-que-pod.html', 'notas3/2024-10-06-y-yo-miraba-el-sobre.html', 'notas3/2024-09-14-cuando-monto-en-bici.html', 'notas3/2024-11-02-y-la-diferencia-entr.html', 'notas3/2024-12-18-y-es-que-la-verdad-c.html', 'notas3/2024-08-23-supongo-que-eso-es-l.html', 'notas3/2024-12-18-la-loteria-es-una-pa.html', 'notas3/2024-09-15-y-si-nunca.html', 'notas3/2024-09-14-la-protesta-funciono.html', 'notas3/2024-11-30-y-ahora-mi-habitacio.html', 'notas3/2024-11-17-tendre-que-aparentar.html', 'notas3/2024-08-17-trnia-que-hacerle-ll.html', 'notas3/2025-01-03-igual-notas-3.html', 'notas3/2024-12-18-y-que-al-final-lo-pi.html', 'notas3/2024-09-16-deje-terapia.html', 'notas3/2024-08-21-recuerdo.html', 'notas3/2024-11-09-hoy-he-sonado-que.html', 'notas3/2024-09-21-mira-yo-creo-que-eso.html', 'notas3/2024-08-17-no-hay-nada-peor.html', 'notas3/2024-12-03-es-que-tambien-sient.html', 'notas3/2025-01-03-y-es-que-usar-apps-c.html', 'notas3/2025-01-02-es-2025.html', 'notas3/2024-09-15-si-pudiera-.html', 'notas3/2024-10-02-hay-recursos-suficie.html', 'notas3/2024-10-29-y-si-yo-ahora-cogies.html', 'notas3/2024-09-15-si-es-de-verdad-lo-q.html', 'notas3/2024-11-03-supongo-que-el-capit.html'];

            // Array to collect failed articles
            const failedArticles = [];

            // Sort articles from most recent to oldest
            articles.sort((a, b) => {
                const dateA = new Date(a.split('/')[1].split('-').slice(0, 3).join('-'));
                const dateB = new Date(b.split('/')[1].split('-').slice(0, 3).join('-'));
                return dateB - dateA;
            });

            const container = document.getElementById('articles-container');
            const loading = document.getElementById('loading');
            const tagSet = new Set();
            let loadedCount = 0;
            const totalArticles = articles.length;

            loading.innerHTML = `Cargando notas... (0/${totalArticles})`;

            for (const article of articles) {
                try {
                    // Decode the article path for debugging
                    const decodedArticle = decodeURIComponent(article);

                    const response = await fetch(decodedArticle);

                    if (!response.ok) {
                        console.warn(`No se pudo cargar: ${decodedArticle} - Status: ${response.status}`);
                        failedArticles.push(decodedArticle);
                        continue;
                    }

                    const articleHTML = await response.text();
                    const div = document.createElement('article');

                    // Extract date from filename
                    const filename = decodedArticle.split('/')[1];
                    const dateString = filename.split('-').slice(0, 3).join('-');
                    const formattedDate = new Date(dateString).toLocaleDateString('es-ES');

                    // Wrap content in a 'content' div and include the date
                    div.innerHTML = `<div class="content"><span class="date">${formattedDate}</span>${articleHTML}</div>`;

                    // Extraer etiquetas (se asume que las etiquetas están en un elemento con clase 'tags')
                    const tagElements = div.querySelectorAll('.tags span');
                    const tags = Array.from(tagElements).map(tag => tag.textContent.trim());
                    tags.forEach(tag => tagSet.add(tag));

                    // Asignación de clases según longitud
                    const contentLength = articleHTML.length;
                    div.classList.add('note');
                    if (contentLength <= 1000) {
                        div.classList.add('small');
                    } else if (contentLength <= 5000) {
                        div.classList.add('medium');
                    } else {
                        div.classList.add('large');
                        const toggleButton = document.createElement('button');
                        toggleButton.textContent = 'Leer más';
                        toggleButton.classList.add('toggle-button');
                        toggleButton.onclick = () => {
                            div.classList.toggle('expanded');
                            toggleButton.textContent = div.classList.contains('expanded') ? 'Leer menos' : 'Leer más';
                        };
                        div.appendChild(toggleButton);
                    }

                    container.appendChild(div);
                    loadedCount++;

                    // Update counter and make article visible
                    loading.innerHTML = `Cargando notas... (${loadedCount}/${totalArticles})`;

                    // Make article visible con animación
                    setTimeout(() => {
                        div.classList.add('visible');
                    }, 10);

                } catch (error) {
                    console.error(`Error al cargar el artículo ${decodeURIComponent(article)}:`, error);
                    failedArticles.push(decodeURIComponent(article));
                }
            }

            if (loadedCount === totalArticles) {
                loading.innerHTML = `¡Cargadas todas las notas! (${loadedCount}/${totalArticles})`;
                setTimeout(() => {
                    loading.style.opacity = '0';
                }, 2000);
            }

            generateTagButtons(tagSet);

            loading.style.display = 'none';
            container.style.display = 'block';

            // Log failed articles with detailed information
            if (failedArticles.length > 0) {
                console.log('Artículos que no se pudieron cargar:', failedArticles);
            }
        }

        loadArticles();

        // Reemplazar los event listeners existentes con la nueva lógica de filtros
        const filters = document.getElementById('filters');
        filters.addEventListener('click', (event) => {
            if (event.target.tagName === 'BUTTON') {
                const btn = event.target;
                const isPressed = btn.getAttribute('aria-pressed') === 'true';
                btn.setAttribute('aria-pressed', isPressed ? 'false' : 'true');
                const activeFilters = Array.from(filters.querySelectorAll('button[aria-pressed="true"]'))
                    .map(b => b.getAttribute('data-filter'));

                document.querySelectorAll('.note').forEach(note => {
                    const classes = ['small', 'medium', 'large'];
                    if (activeFilters.includes('all')) {
                        note.style.display = classes.some(cls => note.classList.contains(cls) && activeFilters.includes(cls))
                            ? 'block'
                            : 'none';
                    } else {
                        note.style.display = classes.some(cls => note.classList.contains(cls) && activeFilters.includes(cls))
                            ? 'block'
                            : 'none';
                    }
                });
            }
        });

        // Nueva función generateTagButtons
        function generateTagButtons(tagSet) {
            const tagFiltersContainer = document.getElementById('tag-filters');
            tagFiltersContainer.innerHTML = '';
            tagSet.forEach(tag => {
                const button = document.createElement('button');
                button.textContent = tag;
                button.setAttribute('data-tag', tag);
                button.setAttribute('aria-pressed', 'true');
                button.onclick = () => applyTagFilter(tag, button);
                tagFiltersContainer.appendChild(button);
            });
        }

        // Nueva función applyTagFilter
        function applyTagFilter(tag, btn) {
            const isPressed = btn.getAttribute('aria-pressed') === 'true';
            btn.setAttribute('aria-pressed', isPressed ? 'false' : 'true');
            const activeTags = Array.from(document.querySelectorAll('#tag-filters button[aria-pressed="true"]'))
                .map(b => b.getAttribute('data-tag'));

            document.querySelectorAll('.note').forEach(article => {
                const t = Array.from(article.querySelectorAll('.tags span')).map(t => t.textContent.trim());
                article.style.display = activeTags.some(att => t.includes(att)) ? 'block' : 'none';
            });
        }
    </script>
</body>

</html>